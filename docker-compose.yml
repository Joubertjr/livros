services:
  app:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: book_summarizer
    ports:
      - "8000:8000"  # Expor Web UI
    volumes:
      - ./volumes:/app/volumes
      - ./EVIDENCIAS:/app/EVIDENCIAS
      - ./src:/app/src
      - ./frontends:/app/frontends
      - ./README.md:/app/README.md
      - ./.cursorrules:/app/.cursorrules
      - ./CHECKLIST_Z_GATES.md:/app/CHECKLIST_Z_GATES.md
      - ./gates_manifest.json:/app/gates_manifest.json
    env_file:
      - .env
    working_dir: /app
    # Modo padr√£o: Web UI (definido no Dockerfile)
    # Para CLI: docker exec -it book_summarizer python src/main.py --help
    stdin_open: true
    tty: true
